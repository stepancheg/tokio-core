<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `LoopHandle` struct in crate `tokio_core`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, LoopHandle">

    <title>tokio_core::LoopHandle - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='index.html'>tokio_core</a></p><script>window.sidebarCurrent = {name: 'LoopHandle', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>tokio_core</a>::<wbr><a class='struct' href=''>LoopHandle</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-788' class='srclink' href='../src/tokio_core/src/event_loop/mod.rs.html#71-74' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct LoopHandle {
    // some fields omitted
}</pre><div class='docblock'><p>Handle to an event loop, used to construct I/O objects, send messages, and
otherwise interact indirectly with the event loop itself.</p>

<p>Handles can be cloned, and when cloned they will still refer to the
same underlying event loop.</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../tokio_core/struct.LoopHandle.html' title='tokio_core::LoopHandle'>LoopHandle</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-569' class='srclink' href='../src/tokio_core/src/channel.rs.html#33-53' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.channel' class='method'><span id='channel.v' class='invisible'><code>fn <a href='#method.channel' class='fnname'>channel</a>&lt;T&gt;(self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>(</a><a class='struct' href='../tokio_core/struct.Sender.html' title='tokio_core::Sender'>Sender</a>&lt;T&gt;, <a class='type' href='../tokio_core/io/type.IoFuture.html' title='tokio_core::io::IoFuture'>IoFuture</a>&lt;<a class='struct' href='../tokio_core/struct.Receiver.html' title='tokio_core::Receiver'>Receiver</a>&lt;T&gt;&gt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>)</a> <span class='where'>where T: <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static</span></code></span></h4>
<div class='docblock'><p>Creates a new in-memory channel used for sending data across <code>Send + &#39;static</code> boundaries, frequently threads.</p>

<p>This type can be used to conveniently send messages between futures.
Unlike the futures crate <code>channel</code> method and types, the returned tx/rx
pair is a multi-producer single-consumer (mpsc) channel <em>with no
backpressure</em>. Currently it&#39;s left up to the application to implement a
mechanism, if necessary, to avoid messages piling up.</p>

<p>The returned <code>Sender</code> can be used to send messages that are processed by
the returned <code>Receiver</code>. The <code>Sender</code> can be cloned to send messages
from multiple sources simultaneously.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../tokio_core/struct.LoopHandle.html' title='tokio_core::LoopHandle'>LoopHandle</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-684' class='srclink' href='../src/tokio_core/src/event_loop/source.rs.html#26-133' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.add_source' class='method'><span id='add_source.v' class='invisible'><code>fn <a href='#method.add_source' class='fnname'>add_source</a>&lt;E&gt;(&amp;self, source: E) -&gt; <a class='struct' href='../tokio_core/struct.AddSource.html' title='tokio_core::AddSource'>AddSource</a>&lt;E&gt; <span class='where'>where E: Evented + <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static</span></code></span></h4>
<div class='docblock'><p>Add a new source to an event loop, returning a future which will resolve
to the token that can be used to identify this source.</p>

<p>When a new I/O object is created it needs to be communicated to the
event loop to ensure that it&#39;s registered and ready to receive
notifications. The event loop with then respond back with the I/O object
and a token which can be used to send more messages to the event loop.</p>

<p>The token returned is then passed in turn to each of the methods below
to interact with notifications on the I/O object itself.</p>

<h1 id='panics' class='section-header'><a href='#panics'>Panics</a></h1>
<p>The returned future will panic if the event loop this handle is
associated with has gone away, or if there is an error communicating
with the event loop.</p>
</div><h4 id='method.schedule_read' class='method'><span id='schedule_read.v' class='invisible'><code>fn <a href='#method.schedule_read' class='fnname'>schedule_read</a>(&amp;self, tok: &amp;<a class='struct' href='../tokio_core/struct.IoToken.html' title='tokio_core::IoToken'>IoToken</a>)</code></span></h4>
<div class='docblock'><p>Schedule the current future task to receive a notification when the
corresponding I/O object is readable.</p>

<p>Once an I/O object has been registered with the event loop through the
<code>add_source</code> method, this method can be used with the assigned token to
notify the current future task when the next read notification comes in.</p>

<p>The current task will only receive a notification <strong>once</strong> and to
receive further notifications it will need to call <code>schedule_read</code>
again.</p>

<blockquote>
<p><strong>Note</strong>: This method should generally not be used directly, but
          rather the <code>ReadinessStream</code> type should be used instead.</p>
</blockquote>

<h1 id='panics-1' class='section-header'><a href='#panics-1'>Panics</a></h1>
<p>This function will panic if the event loop this handle is associated
with has gone away, or if there is an error communicating with the event
loop.</p>

<p>This function will also panic if there is not a currently running future
task.</p>
</div><h4 id='method.schedule_write' class='method'><span id='schedule_write.v' class='invisible'><code>fn <a href='#method.schedule_write' class='fnname'>schedule_write</a>(&amp;self, tok: &amp;<a class='struct' href='../tokio_core/struct.IoToken.html' title='tokio_core::IoToken'>IoToken</a>)</code></span></h4>
<div class='docblock'><p>Schedule the current future task to receive a notification when the
corresponding I/O object is writable.</p>

<p>Once an I/O object has been registered with the event loop through the
<code>add_source</code> method, this method can be used with the assigned token to
notify the current future task when the next write notification comes
in.</p>

<p>The current task will only receive a notification <strong>once</strong> and to
receive further notifications it will need to call <code>schedule_write</code>
again.</p>

<blockquote>
<p><strong>Note</strong>: This method should generally not be used directly, but
          rather the <code>ReadinessStream</code> type should be used instead.</p>
</blockquote>

<h1 id='panics-2' class='section-header'><a href='#panics-2'>Panics</a></h1>
<p>This function will panic if the event loop this handle is associated
with has gone away, or if there is an error communicating with the event
loop.</p>

<p>This function will also panic if there is not a currently running future
task.</p>
</div><h4 id='method.drop_source' class='method'><span id='drop_source.v' class='invisible'><code>fn <a href='#method.drop_source' class='fnname'>drop_source</a>(&amp;self, tok: &amp;<a class='struct' href='../tokio_core/struct.IoToken.html' title='tokio_core::IoToken'>IoToken</a>)</code></span></h4>
<div class='docblock'><p>Unregister all information associated with a token on an event loop,
deallocating all internal resources assigned to the given token.</p>

<p>This method should be called whenever a source of events is being
destroyed. This will ensure that the event loop can reuse <code>tok</code> for
another I/O object if necessary and also remove it from any poll
notifications and callbacks.</p>

<p>Note that wake callbacks may still be invoked after this method is
called as it may take some time for the message to drop a source to
reach the event loop. Despite this fact, this method will attempt to
ensure that the callbacks are <strong>not</strong> invoked, so pending scheduled
callbacks cannot be relied upon to get called.</p>

<blockquote>
<p><strong>Note</strong>: This method should generally not be used directly, but
          rather the <code>ReadinessStream</code> type should be used instead.</p>
</blockquote>

<h1 id='panics-3' class='section-header'><a href='#panics-3'>Panics</a></h1>
<p>This function will panic if the event loop this handle is associated
with has gone away, or if there is an error communicating with the event
loop.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../tokio_core/struct.LoopHandle.html' title='tokio_core::LoopHandle'>LoopHandle</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-733' class='srclink' href='../src/tokio_core/src/event_loop/timeout.rs.html#9-42' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.add_timeout' class='method'><span id='add_timeout.v' class='invisible'><code>fn <a href='#method.add_timeout' class='fnname'>add_timeout</a>(&amp;self, at: <a class='struct' href='https://doc.rust-lang.org/nightly/std/time/struct.Instant.html' title='std::time::Instant'>Instant</a>) -&gt; <a class='struct' href='../tokio_core/struct.AddTimeout.html' title='tokio_core::AddTimeout'>AddTimeout</a></code></span></h4>
<div class='docblock'><p>Adds a new timeout to get fired at the specified instant, notifying the
specified task.</p>
</div><h4 id='method.update_timeout' class='method'><span id='update_timeout.v' class='invisible'><code>fn <a href='#method.update_timeout' class='fnname'>update_timeout</a>(&amp;self, timeout: &amp;<a class='struct' href='../tokio_core/struct.TimeoutToken.html' title='tokio_core::TimeoutToken'>TimeoutToken</a>)</code></span></h4>
<div class='docblock'><p>Updates a previously added timeout to notify a new task instead.</p>

<h1 id='panics-4' class='section-header'><a href='#panics-4'>Panics</a></h1>
<p>This method will panic if the timeout specified was not created by this
loop handle&#39;s <code>add_timeout</code> method.</p>
</div><h4 id='method.cancel_timeout' class='method'><span id='cancel_timeout.v' class='invisible'><code>fn <a href='#method.cancel_timeout' class='fnname'>cancel_timeout</a>(&amp;self, timeout: &amp;<a class='struct' href='../tokio_core/struct.TimeoutToken.html' title='tokio_core::TimeoutToken'>TimeoutToken</a>)</code></span></h4>
<div class='docblock'><p>Cancel a previously added timeout.</p>

<h1 id='panics-5' class='section-header'><a href='#panics-5'>Panics</a></h1>
<p>This method will panic if the timeout specified was not created by this
loop handle&#39;s <code>add_timeout</code> method.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../tokio_core/struct.LoopHandle.html' title='tokio_core::LoopHandle'>LoopHandle</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-1056' class='srclink' href='../src/tokio_core/src/event_loop/mod.rs.html#508-568' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.spawn' class='method'><span id='spawn.v' class='invisible'><code>fn <a href='#method.spawn' class='fnname'>spawn</a>&lt;F,&nbsp;R&gt;(&amp;self, f: F) <span class='where'>where F: <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.FnOnce.html' title='core::ops::FnOnce'>FnOnce</a>(&amp;<a class='struct' href='../tokio_core/struct.LoopPin.html' title='tokio_core::LoopPin'>LoopPin</a>) -&gt; R + <a class='trait' href='https://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static, R: IntoFuture&lt;Item=<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>,&nbsp;Error=<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>&gt;, R::Future: 'static</span></code></span></h4>
<div class='docblock'><p>Spawns a new future into the event loop this handle is associated this.</p>

<p>This function takes a closure which is executed within the context of
the I/O loop itself. The future returned by the closure will be
scheduled on the event loop an run to completion.</p>

<p>Note that while the closure, <code>F</code>, requires the <code>Send</code> bound as it might
cross threads, the future <code>R</code> does not.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../tokio_core/struct.LoopHandle.html' title='tokio_core::LoopHandle'>LoopHandle</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-1322' class='srclink' href='../src/tokio_core/src/tcp.rs.html#176-202' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.tcp_listen' class='method'><span id='tcp_listen.v' class='invisible'><code>fn <a href='#method.tcp_listen' class='fnname'>tcp_listen</a>(self, addr: &amp;<a class='enum' href='https://doc.rust-lang.org/nightly/std/net/addr/enum.SocketAddr.html' title='std::net::addr::SocketAddr'>SocketAddr</a>) -&gt; <a class='type' href='../tokio_core/io/type.IoFuture.html' title='tokio_core::io::IoFuture'>IoFuture</a>&lt;<a class='struct' href='../tokio_core/struct.TcpListener.html' title='tokio_core::TcpListener'>TcpListener</a>&gt;</code></span></h4>
<div class='docblock'><p>Create a new TCP listener associated with this event loop.</p>

<p>The TCP listener will bind to the provided <code>addr</code> address, if available,
and will be returned as a future. The returned future, if resolved
successfully, can then be used to accept incoming connections.</p>
</div><h4 id='method.tcp_connect' class='method'><span id='tcp_connect.v' class='invisible'><code>fn <a href='#method.tcp_connect' class='fnname'>tcp_connect</a>(self, addr: &amp;<a class='enum' href='https://doc.rust-lang.org/nightly/std/net/addr/enum.SocketAddr.html' title='std::net::addr::SocketAddr'>SocketAddr</a>) -&gt; <a class='type' href='../tokio_core/io/type.IoFuture.html' title='tokio_core::io::IoFuture'>IoFuture</a>&lt;<a class='struct' href='../tokio_core/struct.TcpStream.html' title='tokio_core::TcpStream'>TcpStream</a>&gt;</code></span></h4>
<div class='docblock'><p>Create a new TCP stream connected to the specified address.</p>

<p>This function will create a new TCP socket and attempt to connect it to
the <code>addr</code> provided. The returned future will be resolved once the
stream has successfully connected. If an error happens during the
connection or during the socket creation, that error will be returned to
the future instead.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../tokio_core/struct.LoopHandle.html' title='tokio_core::LoopHandle'>LoopHandle</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-1444' class='srclink' href='../src/tokio_core/src/timeout.rs.html#22-45' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.timeout' class='method'><span id='timeout.v' class='invisible'><code>fn <a href='#method.timeout' class='fnname'>timeout</a>(self, dur: <a class='struct' href='https://doc.rust-lang.org/nightly/std/time/duration/struct.Duration.html' title='std::time::duration::Duration'>Duration</a>) -&gt; <a class='type' href='../tokio_core/io/type.IoFuture.html' title='tokio_core::io::IoFuture'>IoFuture</a>&lt;<a class='struct' href='../tokio_core/struct.Timeout.html' title='tokio_core::Timeout'>Timeout</a>&gt;</code></span></h4>
<div class='docblock'><p>Creates a new timeout which will fire at <code>dur</code> time into the future.</p>

<p>This function will return a future that will resolve to the actual
timeout object. The timeout object itself is then a future which will be
set to fire at the specified point in the future.</p>
</div><h4 id='method.timeout_at' class='method'><span id='timeout_at.v' class='invisible'><code>fn <a href='#method.timeout_at' class='fnname'>timeout_at</a>(self, at: <a class='struct' href='https://doc.rust-lang.org/nightly/std/time/struct.Instant.html' title='std::time::Instant'>Instant</a>) -&gt; <a class='type' href='../tokio_core/io/type.IoFuture.html' title='tokio_core::io::IoFuture'>IoFuture</a>&lt;<a class='struct' href='../tokio_core/struct.Timeout.html' title='tokio_core::Timeout'>Timeout</a>&gt;</code></span></h4>
<div class='docblock'><p>Creates a new timeout which will fire at the time specified by <code>at</code>.</p>

<p>This function will return a future that will resolve to the actual
timeout object. The timeout object itself is then a future which will be
set to fire at the specified point in the future.</p>
</div></div><h3 class='impl'><span class='in-band'><code>impl <a class='struct' href='../tokio_core/struct.LoopHandle.html' title='tokio_core::LoopHandle'>LoopHandle</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-1623' class='srclink' href='../src/tokio_core/src/udp.rs.html#16-29' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.udp_bind' class='method'><span id='udp_bind.v' class='invisible'><code>fn <a href='#method.udp_bind' class='fnname'>udp_bind</a>(self, addr: &amp;<a class='enum' href='https://doc.rust-lang.org/nightly/std/net/addr/enum.SocketAddr.html' title='std::net::addr::SocketAddr'>SocketAddr</a>) -&gt; <a class='type' href='../tokio_core/io/type.IoFuture.html' title='tokio_core::io::IoFuture'>IoFuture</a>&lt;<a class='struct' href='../tokio_core/struct.UdpSocket.html' title='tokio_core::UdpSocket'>UdpSocket</a>&gt;</code></span></h4>
<div class='docblock'><p>Create a new UDP socket bound to the specified address.</p>

<p>This function will create a new UDP socket and attempt to bind it to the
<code>addr</code> provided. The returned future will be resolved once the socket
has successfully bound. If an error happens during the binding or during
the socket creation, that error will be returned to the future instead.</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><span class='in-band'><code>impl <a class='trait' href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html' title='core::clone::Clone'>Clone</a> for <a class='struct' href='../tokio_core/struct.LoopHandle.html' title='tokio_core::LoopHandle'>LoopHandle</a></code></span><span class='out-of-band'><div class='ghost'></div><a id='src-791' class='srclink' href='../src/tokio_core/src/event_loop/mod.rs.html#70' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.clone' class='method'><span id='clone.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone' class='fnname'>clone</a>(&amp;self) -&gt; <a class='struct' href='../tokio_core/struct.LoopHandle.html' title='tokio_core::LoopHandle'>LoopHandle</a></code></span></h4>
<div class='docblock'><p>Returns a copy of the value. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone">Read more</a></p>
</div><h4 id='method.clone_from' class='method'><span id='clone_from.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from' class='fnname'>clone_from</a>(&amp;mut self, source: &amp;Self)</code><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div></span></h4>
<div class='docblock'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "tokio_core";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>